!function(s){var i={};function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=s,n.c=i,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./admin/assets/js/wp-media.js")}({"./admin/assets/js/controllers/playlists.js":function(t,e,s){"use strict";s.r(e),s.d(e,"PlaylistsController",function(){return a});var i=s("backbone"),n=s.n(i),l=s("wp"),o=s.n(l),r=s("./admin/assets/js/modules/application.js"),a=o.a.media.controller.State.extend({defaults:{id:"cue-playlists",title:r.l10n.insertPlaylist||"Insert Playlist",collection:null,content:"cue-playlist-browser",menu:"default",menuItem:{text:r.l10n.insertFromCue||"Insert from Cue",priority:130},selection:null,toolbar:"cue-insert-playlist"},initialize:function(t){var e=t.collection||new n.a.Collection,s=t.selection||new n.a.Collection;this.set("attributes",new n.a.Model({id:null,show_playlist:!0})),this.set("collection",e),this.set("selection",s)}})},"./admin/assets/js/modules/application.js":function(t,a,c){"use strict";c.r(a),function(t){c.d(a,"l10n",function(){return o}),c.d(a,"settings",function(){return r});var e=c("./node_modules/@babel/runtime/helpers/classCallCheck.js"),s=c.n(e),i=c("./node_modules/@babel/runtime/helpers/createClass.js"),n=c.n(i),l=function(){function t(){s()(this,t),this.l10n={},this.settings={}}return n()(t,[{key:"config",value:function(t){t.l10n&&(this.l10n=Object.assign(this.l10n,t.l10n),delete t.l10n),this.settings=Object.assign(this.settings,t)}}]),t}();t.cue=t.cue||new l,a.default=t.cue;var o=t.cue.l10n,r=t.cue.settings}.call(this,c("./node_modules/webpack/buildin/global.js"))},"./admin/assets/js/views/frame/content/browser/no-items.js":function(t,e,s){"use strict";s.r(e),s.d(e,"NoItems",function(){return l});var i=s("wp"),n=s.n(i),l=n.a.Backbone.View.extend({className:"cue-playlist-browser-empty",tagName:"div",template:n.a.template("cue-playlist-browser-empty"),initialize:function(){this.collection=this.collection,this.listenTo(this.collection,"add remove reset",this.toggleVisibility)},render:function(){return this.$el.html(this.template()),this},toggleVisibility:function(){this.$el.toggleClass("is-visible",this.collection.length<1)}})},"./admin/assets/js/views/frame/content/browser/playlist.js":function(t,e,s){"use strict";s.r(e),s.d(e,"Playlist",function(){return l});var i=s("wp"),n=s.n(i),l=n.a.Backbone.View.extend({tagName:"li",className:"cue-playlist-browser-list-item",template:n.a.template("cue-playlist-browser-list-item"),events:{click:"resetSelection"},initialize:function(t){this.controller=t.controller,this.model=t.model,this.selection=this.controller.state().get("selection"),this.listenTo(this.selection,"add remove reset",this.updateSelectedClass)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},resetSelection:function(){this.selection.contains(this.model)?this.selection.remove(this.model):this.selection.reset(this.model)},updateSelectedClass:function(){this.selection.findWhere({id:this.model.get("id")})?this.$el.addClass("is-selected"):this.$el.removeClass("is-selected")}})},"./admin/assets/js/views/frame/content/browser/playlists.js":function(t,e,s){"use strict";s.r(e),s.d(e,"Playlists",function(){return o});var i=s("wp"),n=s.n(i),l=s("./admin/assets/js/views/frame/content/browser/playlist.js"),o=n.a.Backbone.View.extend({className:"cue-playlist-browser-list",tagName:"ul",initialize:function(t){this.collection=t.controller.state().get("collection"),this.controller=t.controller,this.listenTo(this.collection,"add",this.addItem),this.listenTo(this.collection,"reset",this.render)},render:function(){return this.collection.each(this.addItem,this),this},addItem:function(t){var e=new l.Playlist({controller:this.controller,model:t}).render();this.$el.append(e.el)}})},"./admin/assets/js/views/frame/content/browser/sidebar.js":function(t,e,s){"use strict";s.r(e),s.d(e,"Sidebar",function(){return r});var i=s("jquery"),n=s.n(i),l=s("wp"),o=s.n(l),r=o.a.Backbone.View.extend({className:"cue-playlist-browser-sidebar media-sidebar",template:o.a.template("cue-playlist-browser-sidebar"),events:{"change [data-setting]":"updateAttribute"},initialize:function(t){this.attributes=t.controller.state().get("attributes")},render:function(){this.$el.html(this.template())},updateAttribute:function(t){var e=n()(t.target),s=e.data("setting"),i=t.target.value;"checkbox"===t.target.type&&(i=!!e.prop("checked")),this.attributes.set(s,i)}})},"./admin/assets/js/views/frame/content/playlist-browser.js":function(t,e,s){"use strict";s.r(e),s.d(e,"PlaylistBrowser",function(){return a});var i=s("wp"),n=s.n(i),l=s("./admin/assets/js/views/frame/content/browser/no-items.js"),o=s("./admin/assets/js/views/frame/content/browser/playlists.js"),r=s("./admin/assets/js/views/frame/content/browser/sidebar.js"),a=n.a.Backbone.View.extend({className:"cue-playlist-browser",initialize:function(t){this.collection=t.controller.state().get("collection"),this.controller=t.controller,this._paged=1,this._pending=!1,this.scroll=this.scroll.bind(this),this.listenTo(this.collection,"reset",this.render),this.collection.length||this.getPlaylists()},render:function(){return this.$el.off("scroll").on("scroll",this.scroll),this.views.add([new o.Playlists({collection:this.collection,controller:this.controller}),new r.Sidebar({controller:this.controller}),new l.NoItems({collection:this.collection})]),this},scroll:function(){!this._pending&&this.el.scrollHeight<this.el.scrollTop+3*this.el.clientHeight&&(this._pending=!0,this.getPlaylists())},getPlaylists:function(){var e=this;n.a.ajax.post("cue_get_playlists",{paged:this._paged}).done(function(t){e.collection.add(t.playlists),e._paged++,e._paged<=t.maxNumPages&&(e._pending=!1,e.scroll())})}})},"./admin/assets/js/views/frame/insert-playlist.js":function(t,e,s){"use strict";s.r(e);var i=s("wp"),n=s.n(i),l=s("./admin/assets/js/views/frame/toolbar/insert-playlist.js"),o=s("./admin/assets/js/views/frame/content/playlist-browser.js"),r=s("./admin/assets/js/controllers/playlists.js"),a=n.a.media.view.MediaFrame.Post;e.default=a.extend({createStates:function(){a.prototype.createStates.apply(this,arguments),this.states.add(new r.PlaylistsController({}))},bindHandlers:function(){a.prototype.bindHandlers.apply(this,arguments),this.on("content:create:cue-playlist-browser",this.createCueContent,this),this.on("toolbar:create:cue-insert-playlist",this.createCueToolbar,this)},createCueContent:function(t){t.view=new o.PlaylistBrowser({controller:this})},createCueToolbar:function(t){t.view=new l.InsertPlaylistToolbar({controller:this})}})},"./admin/assets/js/views/frame/toolbar/insert-playlist.js":function(t,e,s){"use strict";s.r(e),s.d(e,"InsertPlaylistToolbar",function(){return u});var i=s("underscore"),n=s.n(i),l=s("wp"),o=s.n(l),r=o.a.media.view,a=r.l10n,c=r.Toolbar,u=c.extend({initialize:function(t){this.controller=t.controller,this.insert=this.insert.bind(this),this.options.items=n.a.defaults(this.options.items||{},{insert:{text:a.insertIntoPost||"Insert into post",style:"primary",priority:80,requires:{selection:!0},click:this.insert}}),c.prototype.initialize.apply(this,arguments)},insert:function(){var t=this.controller.state(),e=t.get("attributes").toJSON(),s=t.get("selection").first();e.id=s.get("id"),n.a.pick(e,"id","theme","width","show_playlist"),e.show_playlist?delete e.show_playlist:e.show_playlist="0";var i=o.a.shortcode.string({tag:"cue",type:"single",attrs:e});o.a.media.editor.insert(i),this.controller.close()}})},"./admin/assets/js/wp-media.js":function(t,e,s){"use strict";s.r(e);var i=s("wp"),n=s.n(i),l=s("./admin/assets/js/modules/application.js"),o=s("./admin/assets/js/views/frame/insert-playlist.js");l.default.config(_cueMediaSettings),n.a.media.view.MediaFrame.Post=o.default},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},"./node_modules/@babel/runtime/helpers/createClass.js":function(t,e){function i(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),t}},"./node_modules/webpack/buildin/global.js":function(t,e){var s=function(){return this}();try{s=s||new Function("return this")()}catch(t){"object"==typeof window&&(s=window)}t.exports=s},backbone:function(t,e){t.exports=Backbone},jquery:function(t,e){t.exports=jQuery},underscore:function(t,e){t.exports=_},wp:function(t,e){t.exports=wp}});